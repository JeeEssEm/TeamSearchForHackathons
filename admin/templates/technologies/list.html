{% extends 'base.html' %}

{% load static %}

{% block title %}
Список технологий
{% endblock %}

{% block content %}
<div class="mx-auto col-lg-8">
	<h1>Список технологий</h1>
	<form method="post">
		{% if messages %}
			{% for msg in messages %}
				<div class="alert {% if msg.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %} alert-success {% else %} alert-danger {% endif %} mt-3">
					{{ msg }}
				</div>
				{% endfor %}
		{% endif %}
		{% csrf_token %}
		<table class="table table-striped">
			<thead>
			<tr>
				<th><input type="checkbox" id="select-all"></th>
				<th>ID</th>
				<th>Название</th>
			</tr>
			</thead>
			<tbody>
			{% for tech in technologies %}
			<tr>
				<td><input type="checkbox" name="selected_technologies" value="{{ tech.id }}"></td>
				<td>{{ tech.id }}</td>
				<td><a href="{% url 'technologies:edit' tech_id=tech.id %}">{{ tech.title }}</a></td>
			</tr>
			{% endfor %}
			</tbody>
		</table>
		<button type="submit" class="btn btn-danger">Удалить выбранные</button>
	</form>
</div>
{% endblock %}

{% block scripts %}
	<script src="{% static 'js/select_all.js' %}"></script>
{% endblock %}
